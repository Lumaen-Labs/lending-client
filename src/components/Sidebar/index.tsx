"use client";

import { useState, useEffect, useMemo } from "react";
import { motion } from "framer-motion";
import SplitText from "@/components/SplitText";
import { Button } from "@/components/ui/button";
import { GoPin } from "react-icons/go";
import { cn } from "@/lib/utils";
import { Connection, PublicKey, clusterApiUrl } from "@solana/web3.js";
import { useRouter, usePathname } from "next/navigation";
import Link from "next/link";
import TestTokensModal from "../Modals/token-modal";
import { useDynamicContext } from "@dynamic-labs/sdk-react-core";
import { isSolanaWallet } from "@dynamic-labs/solana";

const PIN_KEY = "ui.sidebar.pinned";

export default function Sidebar() {
  // --- pin / expand logic ---
  const [pinned, setPinned] = useState<boolean>(() => {
    if (typeof window === "undefined") return false;
    return localStorage.getItem(PIN_KEY) === "1";
  });
  const [openModal, setopenModal] = useState(false);

  const [expanded, setExpanded] = useState<boolean>(() => {
    if (typeof window === "undefined") return false;
    return localStorage.getItem(PIN_KEY) === "1"; // start open if pinned
  });

  const router = useRouter();
  const pathname = usePathname(); // <- current url path

  useEffect(() => {
    if (typeof window === "undefined") return;
    localStorage.setItem(PIN_KEY, pinned ? "1" : "0");
    if (pinned) setExpanded(true); // pinned forces open
  }, [pinned]);

  useEffect(() => {
    const onStorage = (e: StorageEvent) => {
      if (e.key !== PIN_KEY) return;
      const val = e.newValue === "1";
      setPinned(val);
      if (val) setExpanded(true);
    };
    window.addEventListener("storage", onStorage);
    return () => window.removeEventListener("storage", onStorage);
  }, []);

  // --- Solana status block ---
  const [blockHeight, setBlockHeight] = useState<number | null>(null);
  const [status, setStatus] = useState<"idle" | "ok" | "error">("idle");

  const connection = useMemo(
    () => new Connection(clusterApiUrl("testnet"), "confirmed"),
    []
  );

    const { setShowAuthFlow, handleLogOut, user, primaryWallet } =
      useDynamicContext();

  useEffect(() => {
    let alive = true;
    async function getLatestBlockHeight() {
      try {
        const height = await connection.getBlockHeight("confirmed");
        if (!alive) return;
        setBlockHeight(height);
        setStatus("ok");
      } catch (e) {
        if (!alive) return;
        setStatus("error");
        console.error("Failed to fetch Solana testnet block height:", e);
      }
    }
    getLatestBlockHeight();
    const id = setInterval(getLatestBlockHeight, 15000);
    return () => {
      alive = false;
      clearInterval(id);
    };
  }, [connection]);

    const [pubkey, setPubkey] = useState<PublicKey | null>(null);
  
      useEffect(() => {
        if (
          primaryWallet &&
          isSolanaWallet(primaryWallet) &&
          primaryWallet.address
        ) {
          try {
            setPubkey(new PublicKey(primaryWallet.address));
          } catch {
            setPubkey(null);
          }
        } else {
          setPubkey(null);
        }
      }, [primaryWallet]);

  // --- Sidebar nav data ---
  const sideBaritems = [
    {
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.75 11.9999V5.99993C15.7497 5.73688 15.6803 5.47853 15.5487 5.2508C15.417 5.02306 15.2278 4.83395 15 4.70243L9.75 1.70243C9.52197 1.57077 9.2633 1.50146 9 1.50146C8.7367 1.50146 8.47803 1.57077 8.25 1.70243L3 4.70243C2.7722 4.83395 2.58299 5.02306 2.45135 5.2508C2.31971 5.47853 2.25027 5.73688 2.25 5.99993V11.9999C2.25027 12.263 2.31971 12.5213 2.45135 12.7491C2.58299 12.9768 2.7722 13.1659 3 13.2974L8.25 16.2974C8.47803 16.4291 8.7367 16.4984 9 16.4984C9.2633 16.4984 9.52197 16.4291 9.75 16.2974L15 13.2974C15.2278 13.1659 15.417 12.9768 15.5487 12.7491C15.6803 12.5213 15.7497 12.263 15.75 11.9999Z"
            stroke="#8D8D8D"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      hoverIcon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14 10.6666V5.33323C13.9998 5.09941 13.938 4.86977 13.821 4.66734C13.704 4.4649 13.5358 4.2968 13.3333 4.17989L8.66667 1.51323C8.46397 1.3962 8.23405 1.33459 8 1.33459C7.76595 1.33459 7.53603 1.3962 7.33333 1.51323L2.66667 4.17989C2.46418 4.2968 2.29599 4.4649 2.17897 4.66734C2.06196 4.86977 2.00024 5.09941 2 5.33323V10.6666C2.00024 10.9004 2.06196 11.13 2.17897 11.3325C2.29599 11.5349 2.46418 11.703 2.66667 11.8199L7.33333 14.4866C7.53603 14.6036 7.76595 14.6652 8 14.6652C8.23405 14.6652 8.46397 14.6036 8.66667 14.4866L13.3333 11.8199C13.5358 11.703 13.704 11.5349 13.821 11.3325C13.938 11.13 13.9998 10.9004 14 10.6666Z"
            stroke="#FCFCFC"
            strokeWidth="1.2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      label: "Dashboard",
      href: "/",
    },
    {
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.3125 6.75C16.3128 6.6977 16.3057 6.64562 16.2914 6.59531L15.2824 3.06562C15.2146 2.83142 15.0728 2.62544 14.8783 2.47844C14.6838 2.33144 14.4469 2.2513 14.2031 2.25H3.79688C3.55306 2.2513 3.3162 2.33144 3.12168 2.47844C2.92715 2.62544 2.7854 2.83142 2.71758 3.06562L1.7093 6.59531C1.69477 6.64559 1.68743 6.69767 1.6875 6.75V7.875C1.6875 8.31163 1.78916 8.74226 1.98442 9.13279C2.17969 9.52332 2.4632 9.86302 2.8125 10.125V15.1875C2.8125 15.3367 2.87176 15.4798 2.97725 15.5852C3.08274 15.6907 3.22582 15.75 3.375 15.75H14.625C14.7742 15.75 14.9173 15.6907 15.0227 15.5852C15.1282 15.4798 15.1875 15.3367 15.1875 15.1875V10.125C15.5368 9.86302 15.8203 9.52332 16.0156 9.13279C16.2108 8.74226 16.3125 8.31163 16.3125 7.875V6.75ZM3.79688 3.375H14.2031L15.0061 6.1875H2.99602L3.79688 3.375ZM7.3125 7.3125H10.6875V7.875C10.6875 8.32255 10.5097 8.75178 10.1932 9.06824C9.87678 9.38471 9.44755 9.5625 9 9.5625C8.55245 9.5625 8.12323 9.38471 7.80676 9.06824C7.49029 8.75178 7.3125 8.32255 7.3125 7.875V7.3125ZM6.1875 7.3125V7.875C6.1874 8.16518 6.11247 8.45044 5.96995 8.70321C5.82743 8.95598 5.62213 9.16773 5.37389 9.31801C5.12565 9.46828 4.84285 9.552 4.55281 9.56108C4.26276 9.57016 3.97528 9.50429 3.71813 9.36984C3.679 9.33939 3.63596 9.31432 3.59016 9.29531C3.35185 9.14275 3.15573 8.93272 3.01984 8.68453C2.88395 8.43633 2.81265 8.15796 2.8125 7.875V7.3125H6.1875ZM14.0625 14.625H3.9375V10.6312C4.12268 10.6686 4.3111 10.6874 4.5 10.6875C4.93663 10.6875 5.36726 10.5858 5.75779 10.3906C6.14832 10.1953 6.48802 9.9118 6.75 9.5625C7.01198 9.9118 7.35168 10.1953 7.74221 10.3906C8.13274 10.5858 8.56337 10.6875 9 10.6875C9.43663 10.6875 9.86726 10.5858 10.2578 10.3906C10.6483 10.1953 10.988 9.9118 11.25 9.5625C11.512 9.9118 11.8517 10.1953 12.2422 10.3906C12.6327 10.5858 13.0634 10.6875 13.5 10.6875C13.6889 10.6874 13.8773 10.6686 14.0625 10.6312V14.625ZM14.4091 9.29531C14.3639 9.31436 14.3214 9.33917 14.2826 9.36914C14.0255 9.50373 13.738 9.56973 13.4479 9.56077C13.1578 9.5518 12.8749 9.46818 12.6266 9.31796C12.3783 9.16775 12.1729 8.95604 12.0303 8.70327C11.8877 8.4505 11.8127 8.16522 11.8125 7.875V7.3125H15.1875V7.875C15.1873 8.15802 15.1159 8.43644 14.9799 8.68464C14.8438 8.93283 14.6476 9.14283 14.4091 9.29531Z"
            fill="#8D8D8D"
          />
        </svg>
      ),
      hoverIcon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.3125 6.75C16.3128 6.6977 16.3057 6.64562 16.2914 6.59531L15.2824 3.06562C15.2146 2.83142 15.0728 2.62544 14.8783 2.47844C14.6838 2.33144 14.4469 2.2513 14.2031 2.25H3.79688C3.55306 2.2513 3.3162 2.33144 3.12168 2.47844C2.92715 2.62544 2.7854 2.83142 2.71758 3.06562L1.7093 6.59531C1.69477 6.64559 1.68743 6.69767 1.6875 6.75V7.875C1.6875 8.31163 1.78916 8.74226 1.98442 9.13279C2.17969 9.52332 2.4632 9.86302 2.8125 10.125V15.1875C2.8125 15.3367 2.87176 15.4798 2.97725 15.5852C3.08274 15.6907 3.22582 15.75 3.375 15.75H14.625C14.7742 15.75 14.9173 15.6907 15.0227 15.5852C15.1282 15.4798 15.1875 15.3367 15.1875 15.1875V10.125C15.5368 9.86302 15.8203 9.52332 16.0156 9.13279C16.2108 8.74226 16.3125 8.31163 16.3125 7.875V6.75ZM3.79688 3.375H14.2031L15.0061 6.1875H2.99602L3.79688 3.375ZM7.3125 7.3125H10.6875V7.875C10.6875 8.32255 10.5097 8.75178 10.1932 9.06824C9.87678 9.38471 9.44755 9.5625 9 9.5625C8.55245 9.5625 8.12323 9.38471 7.80676 9.06824C7.49029 8.75178 7.3125 8.32255 7.3125 7.875V7.3125ZM6.1875 7.3125V7.875C6.1874 8.16518 6.11247 8.45044 5.96995 8.70321C5.82743 8.95598 5.62213 9.16773 5.37389 9.31801C5.12565 9.46828 4.84285 9.552 4.55281 9.56108C4.26276 9.57016 3.97528 9.50429 3.71813 9.36984C3.679 9.33939 3.63596 9.31432 3.59016 9.29531C3.35185 9.14275 3.15573 8.93272 3.01984 8.68453C2.88395 8.43633 2.81265 8.15796 2.8125 7.875V7.3125H6.1875ZM14.0625 14.625H3.9375V10.6312C4.12268 10.6686 4.3111 10.6874 4.5 10.6875C4.93663 10.6875 5.36726 10.5858 5.75779 10.3906C6.14832 10.1953 6.48802 9.9118 6.75 9.5625C7.01198 9.9118 7.35168 10.1953 7.74221 10.3906C8.13274 10.5858 8.56337 10.6875 9 10.6875C9.43663 10.6875 9.86726 10.5858 10.2578 10.3906C10.6483 10.1953 10.988 9.9118 11.25 9.5625C11.512 9.9118 11.8517 10.1953 12.2422 10.3906C12.6327 10.5858 13.0634 10.6875 13.5 10.6875C13.6889 10.6874 13.8773 10.6686 14.0625 10.6312V14.625ZM14.4091 9.29531C14.3639 9.31436 14.3214 9.33917 14.2826 9.36914C14.0255 9.50373 13.738 9.56973 13.4479 9.56077C13.1578 9.5518 12.8749 9.46818 12.6266 9.31796C12.3783 9.16775 12.1729 8.95604 12.0303 8.70327C11.8877 8.4505 11.8127 8.16522 11.8125 7.875V7.3125H15.1875V7.875C15.1873 8.15802 15.1159 8.43644 14.9799 8.68464C14.8438 8.93283 14.6476 9.14283 14.4091 9.29531Z"
            fill="#FCFCFC"
          />
        </svg>
      ),
      label: "Markets",
      href: "/markets",
    },
    {
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.25 2.25H3.75C2.92157 2.25 2.25 2.92157 2.25 3.75V14.25C2.25 15.0784 2.92157 15.75 3.75 15.75H14.25C15.0784 15.75 15.75 15.0784 15.75 14.25V3.75C15.75 2.92157 15.0784 2.25 14.25 2.25Z"
            stroke="#8D8D8D"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.625 6C5.83211 6 6 5.83211 6 5.625C6 5.41789 5.83211 5.25 5.625 5.25C5.41789 5.25 5.25 5.41789 5.25 5.625C5.25 5.83211 5.41789 6 5.625 6Z"
            fill="#8D8D8D"
            stroke="#8D8D8D"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.92502 5.92493L7.95002 7.94993"
            stroke="#8D8D8D"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12.375 6C12.5821 6 12.75 5.83211 12.75 5.625C12.75 5.41789 12.5821 5.25 12.375 5.25C12.1679 5.25 12 5.41789 12 5.625C12 5.83211 12.1679 6 12.375 6Z"
            fill="#8D8D8D"
            stroke="#8D8D8D"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M10.05 7.94993L12.075 5.92493"
            stroke="#8D8D8D"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.625 12.75C5.83211 12.75 6 12.5821 6 12.375C6 12.1679 5.83211 12 5.625 12C5.41789 12 5.25 12.1679 5.25 12.375C5.25 12.5821 5.41789 12.75 5.625 12.75Z"
            fill="#8D8D8D"
            stroke="#8D8D8D"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.92502 12.0749L7.95002 10.0499"
            stroke="#8D8D8D"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12.375 12.75C12.5821 12.75 12.75 12.5821 12.75 12.375C12.75 12.1679 12.5821 12 12.375 12C12.1679 12 12 12.1679 12 12.375C12 12.5821 12.1679 12.75 12.375 12.75Z"
            fill="#8D8D8D"
            stroke="#8D8D8D"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M10.05 10.0499L12.075 12.0749"
            stroke="#8D8D8D"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M9 10.5C9.82843 10.5 10.5 9.82843 10.5 9C10.5 8.17157 9.82843 7.5 9 7.5C8.17157 7.5 7.5 8.17157 7.5 9C7.5 9.82843 8.17157 10.5 9 10.5Z"
            stroke="#8D8D8D"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      hoverIcon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.25 2.25H3.75C2.92157 2.25 2.25 2.92157 2.25 3.75V14.25C2.25 15.0784 2.92157 15.75 3.75 15.75H14.25C15.0784 15.75 15.75 15.0784 15.75 14.25V3.75C15.75 2.92157 15.0784 2.25 14.25 2.25Z"
            stroke="#FCFCFC"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.625 6C5.83211 6 6 5.83211 6 5.625C6 5.41789 5.83211 5.25 5.625 5.25C5.41789 5.25 5.25 5.41789 5.25 5.625C5.25 5.83211 5.41789 6 5.625 6Z"
            fill="#FCFCFC"
            stroke="#FCFCFC"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.92505 5.92493L7.95005 7.94993"
            stroke="#FCFCFC"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12.375 6C12.5821 6 12.75 5.83211 12.75 5.625C12.75 5.41789 12.5821 5.25 12.375 5.25C12.1679 5.25 12 5.41789 12 5.625C12 5.83211 12.1679 6 12.375 6Z"
            fill="#FCFCFC"
            stroke="#FCFCFC"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M10.05 7.94993L12.075 5.92493"
            stroke="#FCFCFC"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.625 12.75C5.83211 12.75 6 12.5821 6 12.375C6 12.1679 5.83211 12 5.625 12C5.41789 12 5.25 12.1679 5.25 12.375C5.25 12.5821 5.41789 12.75 5.625 12.75Z"
            fill="#FCFCFC"
            stroke="#FCFCFC"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M5.92505 12.0749L7.95005 10.0499"
            stroke="#FCFCFC"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M12.375 12.75C12.5821 12.75 12.75 12.5821 12.75 12.375C12.75 12.1679 12.5821 12 12.375 12C12.1679 12 12 12.1679 12 12.375C12 12.5821 12.1679 12.75 12.375 12.75Z"
            fill="#FCFCFC"
            stroke="#FCFCFC"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M10.05 10.0499L12.075 12.0749"
            stroke="#FCFCFC"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M9 10.5C9.82843 10.5 10.5 9.82843 10.5 9C10.5 8.17157 9.82843 7.5 9 7.5C8.17157 7.5 7.5 8.17157 7.5 9C7.5 9.82843 8.17157 10.5 9 10.5Z"
            stroke="#FCFCFC"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      label: "Farm (50x)",
      href: "/strategic-vaults",
    },
    {
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.625 2.8125C5.06874 2.8125 4.52497 2.97745 4.06246 3.28649C3.59995 3.59553 3.23946 4.03479 3.02659 4.5487C2.81372 5.06262 2.75802 5.62812 2.86654 6.17369C2.97506 6.71926 3.24293 7.2204 3.63626 7.61374C4.0296 8.00707 4.53074 8.27494 5.07631 8.38346C5.62188 8.49198 6.18738 8.43628 6.7013 8.22341C7.21522 8.01054 7.65447 7.65006 7.96351 7.18754C8.27255 6.72503 8.4375 6.18126 8.4375 5.625C8.4375 4.87908 8.14118 4.16371 7.61374 3.63626C7.08629 3.10882 6.37092 2.8125 5.625 2.8125ZM5.625 7.3125C5.29125 7.3125 4.96498 7.21353 4.68748 7.02811C4.40997 6.84268 4.19368 6.57913 4.06595 6.27078C3.93823 5.96243 3.90481 5.62313 3.96993 5.29579C4.03504 4.96844 4.19576 4.66776 4.43176 4.43176C4.66776 4.19576 4.96844 4.03504 5.29579 3.96993C5.62313 3.90481 5.96243 3.93823 6.27078 4.06595C6.57913 4.19368 6.84268 4.40997 7.02811 4.68748C7.21353 4.96498 7.3125 5.29125 7.3125 5.625C7.3125 6.07255 7.13471 6.50178 6.81824 6.81824C6.50178 7.13471 6.07255 7.3125 5.625 7.3125ZM12.375 8.4375C12.9313 8.4375 13.475 8.27255 13.9375 7.96351C14.4001 7.65447 14.7605 7.21522 14.9734 6.7013C15.1863 6.18738 15.242 5.62188 15.1335 5.07631C15.0249 4.53074 14.7571 4.0296 14.3637 3.63626C13.9704 3.24293 13.4693 2.97506 12.9237 2.86654C12.3781 2.75802 11.8126 2.81372 11.2987 3.02659C10.7848 3.23946 10.3455 3.59995 10.0365 4.06246C9.72745 4.52497 9.5625 5.06874 9.5625 5.625C9.5625 6.37092 9.85882 7.08629 10.3863 7.61374C10.9137 8.14118 11.6291 8.4375 12.375 8.4375ZM12.375 3.9375C12.7088 3.9375 13.035 4.03647 13.3125 4.2219C13.59 4.40732 13.8063 4.67087 13.934 4.97922C14.0618 5.28757 14.0952 5.62687 14.0301 5.95422C13.965 6.28156 13.8042 6.58224 13.5682 6.81824C13.3322 7.05425 13.0316 7.21496 12.7042 7.28008C12.3769 7.34519 12.0376 7.31177 11.7292 7.18405C11.4209 7.05633 11.1573 6.84003 10.9719 6.56253C10.7865 6.28502 10.6875 5.95876 10.6875 5.625C10.6875 5.17745 10.8653 4.74823 11.1818 4.43176C11.4982 4.11529 11.9274 3.9375 12.375 3.9375ZM5.625 9.5625C5.06874 9.5625 4.52497 9.72745 4.06246 10.0365C3.59995 10.3455 3.23946 10.7848 3.02659 11.2987C2.81372 11.8126 2.75802 12.3781 2.86654 12.9237C2.97506 13.4693 3.24293 13.9704 3.63626 14.3637C4.0296 14.7571 4.53074 15.0249 5.07631 15.1335C5.62188 15.242 6.18738 15.1863 6.7013 14.9734C7.21522 14.7605 7.65447 14.4001 7.96351 13.9375C8.27255 13.475 8.4375 12.9313 8.4375 12.375C8.4375 11.6291 8.14118 10.9137 7.61374 10.3863C7.08629 9.85882 6.37092 9.5625 5.625 9.5625ZM5.625 14.0625C5.29125 14.0625 4.96498 13.9635 4.68748 13.7781C4.40997 13.5927 4.19368 13.3291 4.06595 13.0208C3.93823 12.7124 3.90481 12.3731 3.96993 12.0458C4.03504 11.7184 4.19576 11.4178 4.43176 11.1818C4.66776 10.9458 4.96844 10.785 5.29579 10.7199C5.62313 10.6548 5.96243 10.6882 6.27078 10.816C6.57913 10.9437 6.84268 11.16 7.02811 11.4375C7.21353 11.715 7.3125 12.0412 7.3125 12.375C7.3125 12.8226 7.13471 13.2518 6.81824 13.5682C6.50178 13.8847 6.07255 14.0625 5.625 14.0625ZM12.375 9.5625C11.8187 9.5625 11.275 9.72745 10.8125 10.0365C10.3499 10.3455 9.98946 10.7848 9.77659 11.2987C9.56372 11.8126 9.50802 12.3781 9.61654 12.9237C9.72506 13.4693 9.99293 13.9704 10.3863 14.3637C10.7796 14.7571 11.2807 15.0249 11.8263 15.1335C12.3719 15.242 12.9374 15.1863 13.4513 14.9734C13.9652 14.7605 14.4045 14.4001 14.7135 13.9375C15.0226 13.475 15.1875 12.9313 15.1875 12.375C15.1875 11.6291 14.8912 10.9137 14.3637 10.3863C13.8363 9.85882 13.1209 9.5625 12.375 9.5625ZM12.375 14.0625C12.0412 14.0625 11.715 13.9635 11.4375 13.7781C11.16 13.5927 10.9437 13.3291 10.816 13.0208C10.6882 12.7124 10.6548 12.3731 10.7199 12.0458C10.785 11.7184 10.9458 11.4178 11.1818 11.1818C11.4178 10.9458 11.7184 10.785 12.0458 10.7199C12.3731 10.6548 12.7124 10.6882 13.0208 10.816C13.3291 10.9437 13.5927 11.16 13.7781 11.4375C13.9635 11.715 14.0625 12.0412 14.0625 12.375C14.0625 12.8226 13.8847 13.2518 13.5682 13.5682C13.2518 13.8847 12.8226 14.0625 12.375 14.0625Z"
            fill="#8D8D8D"
          />
        </svg>
      ),
      hoverIcon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.625 2.8125C5.06874 2.8125 4.52497 2.97745 4.06246 3.28649C3.59995 3.59553 3.23946 4.03479 3.02659 4.5487C2.81372 5.06262 2.75802 5.62812 2.86654 6.17369C2.97506 6.71926 3.24293 7.2204 3.63626 7.61374C4.0296 8.00707 4.53074 8.27494 5.07631 8.38346C5.62188 8.49198 6.18738 8.43628 6.7013 8.22341C7.21522 8.01054 7.65447 7.65006 7.96351 7.18754C8.27255 6.72503 8.4375 6.18126 8.4375 5.625C8.4375 4.87908 8.14118 4.16371 7.61374 3.63626C7.08629 3.10882 6.37092 2.8125 5.625 2.8125ZM5.625 7.3125C5.29125 7.3125 4.96498 7.21353 4.68748 7.02811C4.40997 6.84268 4.19368 6.57913 4.06595 6.27078C3.93823 5.96243 3.90481 5.62313 3.96993 5.29579C4.03504 4.96844 4.19576 4.66776 4.43176 4.43176C4.66776 4.19576 4.96844 4.03504 5.29579 3.96993C5.62313 3.90481 5.96243 3.93823 6.27078 4.06595C6.57913 4.19368 6.84268 4.40997 7.02811 4.68748C7.21353 4.96498 7.3125 5.29125 7.3125 5.625C7.3125 6.07255 7.13471 6.50178 6.81824 6.81824C6.50178 7.13471 6.07255 7.3125 5.625 7.3125ZM12.375 8.4375C12.9313 8.4375 13.475 8.27255 13.9375 7.96351C14.4001 7.65447 14.7605 7.21522 14.9734 6.7013C15.1863 6.18738 15.242 5.62188 15.1335 5.07631C15.0249 4.53074 14.7571 4.0296 14.3637 3.63626C13.9704 3.24293 13.4693 2.97506 12.9237 2.86654C12.3781 2.75802 11.8126 2.81372 11.2987 3.02659C10.7848 3.23946 10.3455 3.59995 10.0365 4.06246C9.72745 4.52497 9.5625 5.06874 9.5625 5.625C9.5625 6.37092 9.85882 7.08629 10.3863 7.61374C10.9137 8.14118 11.6291 8.4375 12.375 8.4375ZM12.375 3.9375C12.7088 3.9375 13.035 4.03647 13.3125 4.2219C13.59 4.40732 13.8063 4.67087 13.934 4.97922C14.0618 5.28757 14.0952 5.62687 14.0301 5.95422C13.965 6.28156 13.8042 6.58224 13.5682 6.81824C13.3322 7.05425 13.0316 7.21496 12.7042 7.28008C12.3769 7.34519 12.0376 7.31177 11.7292 7.18405C11.4209 7.05633 11.1573 6.84003 10.9719 6.56253C10.7865 6.28502 10.6875 5.95876 10.6875 5.625C10.6875 5.17745 10.8653 4.74823 11.1818 4.43176C11.4982 4.11529 11.9274 3.9375 12.375 3.9375ZM5.625 9.5625C5.06874 9.5625 4.52497 9.72745 4.06246 10.0365C3.59995 10.3455 3.23946 10.7848 3.02659 11.2987C2.81372 11.8126 2.75802 12.3781 2.86654 12.9237C2.97506 13.4693 3.24293 13.9704 3.63626 14.3637C4.0296 14.7571 4.53074 15.0249 5.07631 15.1335C5.62188 15.242 6.18738 15.1863 6.7013 14.9734C7.21522 14.7605 7.65447 14.4001 7.96351 13.9375C8.27255 13.475 8.4375 12.9313 8.4375 12.375C8.4375 11.6291 8.14118 10.9137 7.61374 10.3863C7.08629 9.85882 6.37092 9.5625 5.625 9.5625ZM5.625 14.0625C5.29125 14.0625 4.96498 13.9635 4.68748 13.7781C4.40997 13.5927 4.19368 13.3291 4.06595 13.0208C3.93823 12.7124 3.90481 12.3731 3.96993 12.0458C4.03504 11.7184 4.19576 11.4178 4.43176 11.1818C4.66776 10.9458 4.96844 10.785 5.29579 10.7199C5.62313 10.6548 5.96243 10.6882 6.27078 10.816C6.57913 10.9437 6.84268 11.16 7.02811 11.4375C7.21353 11.715 7.3125 12.0412 7.3125 12.375C7.3125 12.8226 7.13471 13.2518 6.81824 13.5682C6.50178 13.8847 6.07255 14.0625 5.625 14.0625ZM12.375 9.5625C11.8187 9.5625 11.275 9.72745 10.8125 10.0365C10.3499 10.3455 9.98946 10.7848 9.77659 11.2987C9.56372 11.8126 9.50802 12.3781 9.61654 12.9237C9.72506 13.4693 9.99293 13.9704 10.3863 14.3637C10.7796 14.7571 11.2807 15.0249 11.8263 15.1335C12.3719 15.242 12.9374 15.1863 13.4513 14.9734C13.9652 14.7605 14.4045 14.4001 14.7135 13.9375C15.0226 13.475 15.1875 12.9313 15.1875 12.375C15.1875 11.6291 14.8912 10.9137 14.3637 10.3863C13.8363 9.85882 13.1209 9.5625 12.375 9.5625ZM12.375 14.0625C12.0412 14.0625 11.715 13.9635 11.4375 13.7781C11.16 13.5927 10.9437 13.3291 10.816 13.0208C10.6882 12.7124 10.6548 12.3731 10.7199 12.0458C10.785 11.7184 10.9458 11.4178 11.1818 11.1818C11.4178 10.9458 11.7184 10.785 12.0458 10.7199C12.3731 10.6548 12.7124 10.6882 13.0208 10.816C13.3291 10.9437 13.5927 11.16 13.7781 11.4375C13.9635 11.715 14.0625 12.0412 14.0625 12.375C14.0625 12.8226 13.8847 13.2518 13.5682 13.5682C13.2518 13.8847 12.8226 14.0625 12.375 14.0625Z"
            fill="#FCFCFC"
          />
        </svg>
      ),
      label: "More",
      href: "/more",
    },
  ];

  const linkitems = [
    // {
    //   icon: (
    //     <svg
    //       width="18"
    //       height="18"
    //       viewBox="0 0 18 18"
    //       fill="none"
    //       xmlns="http://www.w3.org/2000/svg"
    //     >
    //       <path
    //         d="M7.3125 9.8438C7.3125 10.0107 7.26301 10.1738 7.1703 10.3126C7.07759 10.4513 6.94581 10.5595 6.79164 10.6233C6.63746 10.6872 6.46781 10.7039 6.30414 10.6713C6.14047 10.6388 5.99013 10.5584 5.87213 10.4404C5.75413 10.3224 5.67377 10.1721 5.64121 10.0084C5.60866 9.84473 5.62536 9.67508 5.68923 9.52091C5.75309 9.36673 5.86123 9.23496 5.99999 9.14224C6.13874 9.04953 6.30187 9.00005 6.46875 9.00005C6.69253 9.00005 6.90714 9.08894 7.06537 9.24717C7.2236 9.40541 7.3125 9.62002 7.3125 9.8438ZM11.5312 9.00005C11.3644 9.00005 11.2012 9.04953 11.0625 9.14224C10.9237 9.23496 10.8156 9.36673 10.7517 9.52091C10.6879 9.67508 10.6712 9.84473 10.7037 10.0084C10.7363 10.1721 10.8166 10.3224 10.9346 10.4404C11.0526 10.5584 11.203 10.6388 11.3666 10.6713C11.5303 10.7039 11.7 10.6872 11.8541 10.6233C12.0083 10.5595 12.1401 10.4513 12.2328 10.3126C12.3255 10.1738 12.375 10.0107 12.375 9.8438C12.375 9.62002 12.2861 9.40541 12.1279 9.24717C11.9696 9.08894 11.755 9.00005 11.5312 9.00005ZM16.766 13.5633L12.0551 15.6523C11.9134 15.7153 11.7604 15.7486 11.6054 15.7503C11.4504 15.7519 11.2967 15.7219 11.1537 15.662C11.0107 15.602 10.8815 15.5135 10.774 15.4018C10.6665 15.2901 10.583 15.1576 10.5286 15.0125L9.95836 13.4656C9.64336 13.4867 9.32391 13.4975 9 13.4979C8.67609 13.4984 8.35664 13.4876 8.04164 13.4656L7.47141 15.0125C7.41691 15.1576 7.33334 15.29 7.22583 15.4016C7.11831 15.5133 6.98912 15.6018 6.84618 15.6617C6.70324 15.7216 6.54957 15.7517 6.39459 15.75C6.23961 15.7484 6.08659 15.7152 5.94492 15.6523L1.23398 13.5633C0.990834 13.457 0.793328 13.2678 0.676662 13.0295C0.559996 12.7911 0.531748 12.5191 0.596953 12.2618L2.67187 4.07817C2.72663 3.86534 2.84227 3.6731 3.00462 3.52498C3.16697 3.37687 3.36899 3.27932 3.58594 3.24426L6.12141 2.82731C6.40092 2.78235 6.68716 2.84296 6.92446 2.99735C7.16176 3.15174 7.33315 3.38887 7.40531 3.66262L7.63453 4.56544C8.08125 4.52184 8.53641 4.50005 9 4.50005C9.46359 4.50005 9.91828 4.52184 10.3641 4.56544L10.5933 3.66262C10.6653 3.38879 10.8367 3.15156 11.074 2.99715C11.3113 2.84273 11.5977 2.78219 11.8772 2.82731L14.4141 3.24426C14.631 3.27932 14.833 3.37687 14.9954 3.52498C15.1577 3.6731 15.2734 3.86534 15.3281 4.07817L17.4045 12.2611C17.4697 12.5186 17.4414 12.791 17.3244 13.0295C17.2075 13.268 17.0096 13.4572 16.766 13.5633ZM16.3125 12.5354L14.2362 4.35942C14.2362 4.35942 14.2362 4.35942 14.2305 4.35942L11.6951 3.93755C11.6933 3.9365 11.6912 3.93594 11.6891 3.93594C11.687 3.93594 11.6849 3.9365 11.6831 3.93755L11.4841 4.72083C11.8357 4.78692 12.1873 4.86567 12.5269 4.9613C12.6608 4.99542 12.7774 5.07764 12.8546 5.19227C12.9317 5.30689 12.964 5.4459 12.9452 5.58279C12.9264 5.71969 12.8579 5.84488 12.7528 5.9345C12.6476 6.02412 12.5131 6.07189 12.375 6.06872C12.3237 6.06857 12.2726 6.06148 12.2231 6.04762C11.1726 5.76257 10.0885 5.62043 9 5.62505C7.91155 5.6202 6.82741 5.7621 5.77688 6.04692C5.70511 6.06911 5.62963 6.07669 5.55488 6.06924C5.48014 6.06178 5.40765 6.03943 5.34168 6.0035C5.27572 5.96757 5.21761 5.91879 5.17081 5.86004C5.124 5.8013 5.08943 5.73377 5.06914 5.66144C5.04885 5.58912 5.04325 5.51347 5.05268 5.43894C5.0621 5.36442 5.08636 5.29254 5.12401 5.22755C5.16167 5.16255 5.21196 5.10575 5.27192 5.06051C5.33188 5.01526 5.40029 4.98248 5.47312 4.96411C5.81203 4.86848 6.16078 4.78973 6.51516 4.72364L6.31617 3.93755C6.31617 3.93755 6.31617 3.93755 6.30773 3.93755L3.76945 4.3545C3.76738 4.35393 3.7652 4.35393 3.76312 4.3545L1.6875 12.5389L6.39844 14.625C6.40081 14.6263 6.40347 14.627 6.40617 14.627C6.40887 14.627 6.41153 14.6263 6.41391 14.625L6.89062 13.3397C6.41299 13.2667 5.94012 13.1652 5.47453 13.036C5.33586 12.9917 5.21976 12.8953 5.15065 12.7672C5.08154 12.6391 5.06481 12.4891 5.10396 12.3489C5.14311 12.2087 5.2351 12.0891 5.36059 12.0153C5.48609 11.9415 5.6353 11.9192 5.77688 11.9532C6.82734 12.2383 7.91153 12.3802 9 12.375C10.0885 12.3802 11.1727 12.2383 12.2231 11.9532C12.3668 11.9129 12.5206 11.9313 12.6507 12.0045C12.7808 12.0776 12.8765 12.1994 12.9168 12.3431C12.957 12.4867 12.9386 12.6405 12.8655 12.7706C12.7924 12.9007 12.6706 12.9964 12.5269 13.0367C12.0608 13.1658 11.5875 13.267 11.1094 13.3397L11.584 14.625C11.5863 14.6263 11.5888 14.6269 11.5914 14.6269C11.5939 14.6269 11.5965 14.6263 11.5988 14.625L16.3125 12.5354Z"
    //         fill="#8D8D8C"
    //       />
    //     </svg>
    //   ),
    //   hoverIcon: (
    //     <svg
    //       width="18"
    //       height="18"
    //       viewBox="0 0 18 18"
    //       fill="none"
    //       xmlns="http://www.w3.org/2000/svg"
    //     >
    //       <path
    //         d="M7.31239 9.8438C7.31239 10.0107 7.2629 10.1738 7.17019 10.3126C7.07748 10.4513 6.9457 10.5595 6.79152 10.6233C6.63735 10.6872 6.4677 10.7039 6.30403 10.6713C6.14036 10.6388 5.99001 10.5584 5.87201 10.4404C5.75401 10.3224 5.67365 10.1721 5.6411 10.0084C5.60854 9.84473 5.62525 9.67508 5.68911 9.52091C5.75297 9.36673 5.86112 9.23496 5.99987 9.14224C6.13863 9.04953 6.30176 9.00005 6.46864 9.00005C6.69241 9.00005 6.90702 9.08894 7.06526 9.24717C7.22349 9.40541 7.31239 9.62002 7.31239 9.8438ZM11.5311 9.00005C11.3643 9.00005 11.2011 9.04953 11.0624 9.14224C10.9236 9.23496 10.8155 9.36673 10.7516 9.52091C10.6878 9.67508 10.671 9.84473 10.7036 10.0084C10.7362 10.1721 10.8165 10.3224 10.9345 10.4404C11.0525 10.5584 11.2029 10.6388 11.3665 10.6713C11.5302 10.7039 11.6998 10.6872 11.854 10.6233C12.0082 10.5595 12.14 10.4513 12.2327 10.3126C12.3254 10.1738 12.3749 10.0107 12.3749 9.8438C12.3749 9.62002 12.286 9.40541 12.1278 9.24717C11.9695 9.08894 11.7549 9.00005 11.5311 9.00005ZM16.7659 13.5633L12.055 15.6523C11.9133 15.7153 11.7603 15.7486 11.6053 15.7503C11.4503 15.7519 11.2965 15.7219 11.1536 15.662C11.0106 15.602 10.8814 15.5135 10.7739 15.4018C10.6664 15.2901 10.5829 15.1576 10.5285 15.0125L9.95825 13.4656C9.64324 13.4867 9.32379 13.4975 8.99989 13.4979C8.67598 13.4984 8.35653 13.4876 8.04153 13.4656L7.47129 15.0125C7.4168 15.1576 7.33323 15.29 7.22571 15.4016C7.1182 15.5133 6.98901 15.6018 6.84607 15.6617C6.70313 15.7216 6.54945 15.7517 6.39447 15.75C6.23949 15.7484 6.08647 15.7152 5.94481 15.6523L1.23387 13.5633C0.99072 13.457 0.793214 13.2678 0.676548 13.0295C0.559881 12.7911 0.531634 12.5191 0.596838 12.2618L2.67176 4.07817C2.72652 3.86534 2.84215 3.6731 3.00451 3.52498C3.16686 3.37687 3.36887 3.27932 3.58582 3.24426L6.12129 2.82731C6.4008 2.78235 6.68704 2.84296 6.92434 2.99735C7.16164 3.15174 7.33304 3.38887 7.4052 3.66262L7.63442 4.56544C8.08114 4.52184 8.53629 4.50005 8.99989 4.50005C9.46348 4.50005 9.91817 4.52184 10.3639 4.56544L10.5932 3.66262C10.6652 3.38879 10.8365 3.15156 11.0739 2.99715C11.3112 2.84273 11.5975 2.78219 11.8771 2.82731L14.4139 3.24426C14.6309 3.27932 14.8329 3.37687 14.9953 3.52498C15.1576 3.6731 15.2733 3.86534 15.328 4.07817L17.4043 12.2611C17.4696 12.5186 17.4413 12.791 17.3243 13.0295C17.2074 13.268 17.0095 13.4572 16.7659 13.5633ZM16.3124 12.5354L14.2361 4.35942C14.2361 4.35942 14.2361 4.35942 14.2304 4.35942L11.695 3.93755C11.6931 3.9365 11.6911 3.93594 11.689 3.93594C11.6869 3.93594 11.6848 3.9365 11.683 3.93755L11.484 4.72083C11.8356 4.78692 12.1872 4.86567 12.5268 4.9613C12.6607 4.99542 12.7773 5.07764 12.8545 5.19227C12.9316 5.30689 12.9639 5.4459 12.9451 5.58279C12.9263 5.71969 12.8578 5.84488 12.7527 5.9345C12.6475 6.02412 12.513 6.07189 12.3749 6.06872C12.3235 6.06857 12.2725 6.06148 12.223 6.04762C11.1725 5.76257 10.0884 5.62043 8.99989 5.62505C7.91143 5.6202 6.8273 5.7621 5.77676 6.04692C5.705 6.06911 5.62952 6.07669 5.55477 6.06924C5.48003 6.06178 5.40753 6.03943 5.34157 6.0035C5.2756 5.96757 5.2175 5.91879 5.17069 5.86004C5.12388 5.8013 5.08931 5.73377 5.06903 5.66144C5.04874 5.58912 5.04314 5.51347 5.05256 5.43894C5.06199 5.36442 5.08624 5.29254 5.1239 5.22755C5.16155 5.16255 5.21184 5.10575 5.2718 5.06051C5.33176 5.01526 5.40018 4.98248 5.47301 4.96411C5.81192 4.86848 6.16067 4.78973 6.51504 4.72364L6.31606 3.93755C6.31606 3.93755 6.31606 3.93755 6.30762 3.93755L3.76934 4.3545C3.76727 4.35393 3.76508 4.35393 3.76301 4.3545L1.68739 12.5389L6.39832 14.625C6.4007 14.6263 6.40336 14.627 6.40606 14.627C6.40876 14.627 6.41142 14.6263 6.41379 14.625L6.89051 13.3397C6.41287 13.2667 5.94 13.1652 5.47442 13.036C5.33574 12.9917 5.21965 12.8953 5.15054 12.7672C5.08143 12.6391 5.06469 12.4891 5.10384 12.3489C5.143 12.2087 5.23499 12.0891 5.36048 12.0153C5.48597 11.9415 5.63519 11.9192 5.77676 11.9532C6.82723 12.2383 7.91141 12.3802 8.99989 12.375C10.0884 12.3802 11.1725 12.2383 12.223 11.9532C12.3667 11.9129 12.5205 11.9313 12.6506 12.0045C12.7807 12.0776 12.8764 12.1994 12.9166 12.3431C12.9569 12.4867 12.9385 12.6405 12.8654 12.7706C12.7922 12.9007 12.6704 12.9964 12.5268 13.0367C12.0607 13.1658 11.5874 13.267 11.1093 13.3397L11.5839 14.625C11.5861 14.6263 11.5887 14.6269 11.5913 14.6269C11.5938 14.6269 11.5964 14.6263 11.5986 14.625L16.3124 12.5354Z"
    //         fill="#FCFCFC"
    //       />
    //     </svg>
    //   ),
    //   label: "Discord",
    //   href: "/",
    // },
    {
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.31251 9.84375C7.31251 10.0106 7.26302 10.1738 7.17031 10.3125C7.0776 10.4513 6.94582 10.5594 6.79165 10.6233C6.63747 10.6871 6.46782 10.7038 6.30415 10.6713C6.14048 10.6387 5.99014 10.5584 5.87214 10.4404C5.75414 10.3224 5.67378 10.172 5.64122 10.0084C5.60866 9.84469 5.62537 9.67504 5.68923 9.52086C5.7531 9.36669 5.86124 9.23491 6 9.1422C6.13875 9.04949 6.30188 9 6.46876 9C6.69253 9 6.90715 9.0889 7.06538 9.24713C7.22361 9.40536 7.31251 9.61997 7.31251 9.84375ZM11.5313 9C11.3644 9 11.2012 9.04949 11.0625 9.1422C10.9237 9.23491 10.8156 9.36669 10.7517 9.52086C10.6879 9.67504 10.6712 9.84469 10.7037 10.0084C10.7363 10.172 10.8166 10.3224 10.9346 10.4404C11.0526 10.5584 11.203 10.6387 11.3666 10.6713C11.5303 10.7038 11.7 10.6871 11.8541 10.6233C12.0083 10.5594 12.1401 10.4513 12.2328 10.3125C12.3255 10.1738 12.375 10.0106 12.375 9.84375C12.375 9.61997 12.2861 9.40536 12.1279 9.24713C11.9696 9.0889 11.755 9 11.5313 9ZM16.766 13.5633L12.0551 15.6523C11.9134 15.7152 11.7604 15.7486 11.6054 15.7502C11.4504 15.7519 11.2967 15.7218 11.1537 15.6619C11.0107 15.602 10.8815 15.5135 10.774 15.4018C10.6665 15.2901 10.583 15.1576 10.5286 15.0124L9.95837 13.4655C9.64337 13.4866 9.32391 13.4974 9.00001 13.4979C8.6761 13.4984 8.35665 13.4876 8.04165 13.4655L7.47141 15.0124C7.41692 15.1575 7.33335 15.2899 7.22584 15.4016C7.11832 15.5132 6.98913 15.6017 6.84619 15.6616C6.70325 15.7215 6.54958 15.7516 6.39459 15.75C6.23961 15.7484 6.0866 15.7151 5.94493 15.6523L1.23399 13.5633C0.990842 13.457 0.793336 13.2678 0.67667 13.0294C0.560003 12.7911 0.531756 12.519 0.596961 12.2618L2.67188 4.07812C2.72664 3.8653 2.84228 3.67305 3.00463 3.52494C3.16698 3.37683 3.369 3.27927 3.58594 3.24422L6.12141 2.82727C6.40092 2.78231 6.68716 2.84292 6.92447 2.99731C7.16177 3.1517 7.33316 3.38883 7.40532 3.66258L7.63454 4.56539C8.08126 4.5218 8.53641 4.5 9.00001 4.5C9.4636 4.5 9.91829 4.5218 10.3641 4.56539L10.5933 3.66258C10.6653 3.38874 10.8367 3.15151 11.074 2.9971C11.3113 2.84269 11.5977 2.78215 11.8772 2.82727L14.4141 3.24422C14.631 3.27927 14.833 3.37683 14.9954 3.52494C15.1577 3.67305 15.2734 3.8653 15.3281 4.07812L17.4045 12.2611C17.4698 12.5186 17.4414 12.7909 17.3244 13.0295C17.2075 13.268 17.0096 13.4572 16.766 13.5633ZM16.3125 12.5353L14.2362 4.35938C14.2362 4.35938 14.2362 4.35938 14.2306 4.35938L11.6951 3.9375C11.6933 3.93645 11.6912 3.9359 11.6891 3.9359C11.687 3.9359 11.6849 3.93645 11.6831 3.9375L11.4841 4.72078C11.8357 4.78688 12.1873 4.86562 12.5269 4.96125C12.6608 4.99538 12.7774 5.0776 12.8546 5.19222C12.9317 5.30684 12.964 5.44586 12.9452 5.58275C12.9265 5.71964 12.858 5.84483 12.7528 5.93445C12.6476 6.02407 12.5131 6.07185 12.375 6.06867C12.3237 6.06853 12.2726 6.06143 12.2231 6.04758C11.1726 5.76252 10.0885 5.62038 9.00001 5.625C7.91156 5.62015 6.82742 5.76206 5.77688 6.04688C5.70512 6.06906 5.62964 6.07665 5.55489 6.06919C5.48015 6.06173 5.40765 6.03938 5.34169 6.00345C5.27572 5.96752 5.21762 5.91874 5.17081 5.86C5.124 5.80125 5.08944 5.73372 5.06915 5.6614C5.04886 5.58907 5.04326 5.51342 5.05269 5.4389C5.06211 5.36438 5.08637 5.2925 5.12402 5.2275C5.16167 5.1625 5.21196 5.10571 5.27192 5.06046C5.33188 5.01522 5.4003 4.98244 5.47313 4.96406C5.81204 4.86844 6.16079 4.78969 6.51516 4.72359L6.31618 3.9375C6.31618 3.9375 6.31618 3.9375 6.30774 3.9375L3.76946 4.35445C3.76739 4.35388 3.7652 4.35388 3.76313 4.35445L1.68751 12.5388L6.39844 14.625C6.40082 14.6263 6.40348 14.627 6.40618 14.627C6.40888 14.627 6.41154 14.6263 6.41391 14.625L6.89063 13.3397C6.41299 13.2666 5.94013 13.1652 5.47454 13.0359C5.33586 12.9916 5.21977 12.8953 5.15066 12.7671C5.08155 12.639 5.06481 12.4891 5.10397 12.3488C5.14312 12.2086 5.23511 12.0891 5.3606 12.0153C5.48609 11.9415 5.63531 11.9192 5.77688 11.9531C6.82735 12.2383 7.91153 12.3802 9.00001 12.375C10.0885 12.3802 11.1727 12.2383 12.2231 11.9531C12.3668 11.9128 12.5206 11.9313 12.6507 12.0044C12.7808 12.0775 12.8765 12.1993 12.9168 12.343C12.957 12.4867 12.9386 12.6405 12.8655 12.7706C12.7924 12.9007 12.6706 12.9964 12.5269 13.0366C12.0608 13.1657 11.5875 13.2669 11.1094 13.3397L11.584 14.625C11.5863 14.6262 11.5888 14.6269 11.5914 14.6269C11.594 14.6269 11.5965 14.6262 11.5988 14.625L16.3125 12.5353Z"
            fill="#8D8D8C"
          />
        </svg>
      ),
      hoverIcon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.0931 1.84148C16.0059 1.76622 15.8999 1.71617 15.7864 1.69672C15.6729 1.67727 15.5563 1.68915 15.449 1.73109L1.1995 7.30757C0.997547 7.3861 0.826574 7.52811 0.712317 7.71221C0.59806 7.89632 0.546702 8.11256 0.565976 8.32838C0.58525 8.5442 0.674112 8.74792 0.819185 8.90886C0.964257 9.06981 1.15769 9.17927 1.37035 9.22077L5.06246 9.9457V14.0625C5.06174 14.2867 5.12838 14.506 5.25374 14.6919C5.37911 14.8779 5.55743 15.0218 5.76559 15.1052C5.97343 15.1901 6.20199 15.2105 6.42156 15.1637C6.64114 15.1169 6.84156 15.0052 6.99676 14.843L8.77707 12.9966L11.6015 15.4687C11.8053 15.6495 12.0681 15.7495 12.3405 15.75C12.4599 15.7499 12.5785 15.7312 12.6921 15.6944C12.8777 15.6356 13.0446 15.5291 13.1762 15.3856C13.3078 15.2421 13.3996 15.0667 13.4423 14.8767L16.2963 2.46093C16.3218 2.34896 16.3164 2.23215 16.2806 2.12302C16.2448 2.0139 16.18 1.91657 16.0931 1.84148ZM11.7942 4.37273L5.49489 8.88398L2.00739 8.19984L11.7942 4.37273ZM6.18746 14.0625V10.7241L7.93051 12.2526L6.18746 14.0625ZM12.3419 14.625L6.52848 9.52734L14.8957 3.53038L12.3419 14.625Z"
            fill="#FCFCFC"
          />
        </svg>
      ),
      label: "Telegram",
      href: "/",
    },
    {
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.0996 14.8859L10.6981 7.96852L15.0413 3.19078C15.1395 3.08006 15.1901 2.93508 15.1822 2.78727C15.1742 2.63947 15.1083 2.50076 14.9988 2.40121C14.8893 2.30166 14.7449 2.2493 14.597 2.25548C14.4491 2.26166 14.3096 2.32588 14.2088 2.43422L10.0716 6.98484L7.22463 2.51086C7.17386 2.43095 7.10375 2.36515 7.02078 2.31955C6.93782 2.27395 6.84469 2.25003 6.75002 2.25H3.37502C3.27416 2.24995 3.17515 2.27702 3.08835 2.32837C3.00154 2.37972 2.93014 2.45347 2.88162 2.54188C2.8331 2.6303 2.80924 2.73014 2.81255 2.83094C2.81585 2.93174 2.8462 3.0298 2.90041 3.11484L7.30197 10.0315L2.95877 14.8127C2.90805 14.8672 2.86865 14.9312 2.84285 15.001C2.81705 15.0709 2.80537 15.1451 2.80847 15.2195C2.81158 15.2939 2.82942 15.3669 2.86095 15.4343C2.89249 15.5017 2.93709 15.5622 2.99217 15.6123C3.04726 15.6623 3.11174 15.701 3.18186 15.7259C3.25199 15.7509 3.32637 15.7617 3.4007 15.7577C3.47503 15.7537 3.54783 15.735 3.61487 15.7026C3.68191 15.6703 3.74187 15.625 3.79127 15.5693L7.92846 11.0187L10.7754 15.4927C10.8266 15.5719 10.8969 15.637 10.9798 15.682C11.0628 15.727 11.1557 15.7503 11.25 15.75H14.625C14.7258 15.75 14.8247 15.7229 14.9114 15.6716C14.9981 15.6202 15.0694 15.5466 15.1179 15.4583C15.1664 15.37 15.1903 15.2703 15.1871 15.1696C15.1839 15.0689 15.1537 14.9709 15.0996 14.8859ZM11.5587 14.625L4.39947 3.375H6.43853L13.6006 14.625H11.5587Z"
            fill="#8D8D8C"
          />
        </svg>
      ),
      hoverIcon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.0995 14.8859L10.6979 7.96852L15.0411 3.19078C15.1394 3.08006 15.19 2.93508 15.182 2.78727C15.1741 2.63947 15.1082 2.50076 14.9987 2.40121C14.8891 2.30166 14.7448 2.2493 14.5969 2.25548C14.449 2.26166 14.3095 2.32588 14.2086 2.43422L10.0715 6.98484L7.22451 2.51086C7.17374 2.43095 7.10363 2.36515 7.02066 2.31955C6.9377 2.27395 6.84457 2.25003 6.7499 2.25H3.3749C3.27404 2.24995 3.17503 2.27702 3.08822 2.32837C3.00142 2.37972 2.93002 2.45347 2.8815 2.54188C2.83298 2.6303 2.80912 2.73014 2.81243 2.83094C2.81573 2.93174 2.84608 3.0298 2.90029 3.11484L7.30185 10.0315L2.95865 14.8127C2.90793 14.8672 2.86853 14.9312 2.84273 15.001C2.81693 15.0709 2.80524 15.1451 2.80835 15.2195C2.81146 15.2939 2.8293 15.3669 2.86083 15.4343C2.89236 15.5017 2.93697 15.5622 2.99205 15.6123C3.04714 15.6623 3.11161 15.701 3.18174 15.7259C3.25187 15.7509 3.32625 15.7617 3.40058 15.7577C3.47491 15.7537 3.5477 15.735 3.61475 15.7026C3.68179 15.6703 3.74175 15.625 3.79115 15.5693L7.92834 11.0187L10.7753 15.4927C10.8265 15.5719 10.8968 15.637 10.9797 15.682C11.0626 15.727 11.1556 15.7503 11.2499 15.75H14.6249C14.7256 15.75 14.8245 15.7229 14.9112 15.6716C14.9979 15.6202 15.0693 15.5466 15.1178 15.4583C15.1663 15.37 15.1901 15.2703 15.1869 15.1696C15.1837 15.0689 15.1535 14.9709 15.0995 14.8859ZM11.5586 14.625L4.39935 3.375H6.43841L13.6004 14.625H11.5586Z"
            fill="#FCFCFC"
          />
        </svg>
      ),
      label: "Twitter",
      href: "/markets",
    },
    {
      icon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.2879 13.6793L13.9542 2.584C13.924 2.4389 13.8655 2.3012 13.7819 2.1788C13.6984 2.0564 13.5914 1.95172 13.4673 1.87077C13.3432 1.78982 13.2043 1.73419 13.0585 1.70709C12.9128 1.67998 12.7632 1.68193 12.6183 1.71283L9.32695 2.42017C9.03582 2.48391 8.78164 2.66003 8.61968 2.91021C8.45772 3.16039 8.40109 3.46439 8.46211 3.75611L10.7958 14.8514C10.8478 15.1046 10.9854 15.3321 11.1854 15.4957C11.3854 15.6594 11.6356 15.7492 11.8941 15.75C11.9739 15.7499 12.0536 15.7414 12.1317 15.7247L15.423 15.0174C15.7145 14.9535 15.969 14.777 16.1309 14.5264C16.2929 14.2758 16.3493 13.9713 16.2879 13.6793ZM9.5625 3.52618C9.5625 3.52197 9.5625 3.51986 9.5625 3.51986L12.8531 2.81673L13.0873 3.93259L9.79664 4.64064L9.5625 3.52618ZM10.028 5.73892L13.32 5.03228L13.5548 6.15025L10.2656 6.85759L10.028 5.73892ZM10.4948 7.95868L13.7869 7.25134L14.722 11.6979L11.43 12.4052L10.4948 7.95868ZM15.1875 13.9177L11.8969 14.6208L11.6627 13.5049L14.9534 12.7969L15.1875 13.9113C15.1875 13.9156 15.1875 13.9177 15.1875 13.9177ZM7.3125 2.25001H3.9375C3.63913 2.25001 3.35298 2.36854 3.142 2.57952C2.93103 2.7905 2.8125 3.07664 2.8125 3.37501V14.625C2.8125 14.9234 2.93103 15.2095 3.142 15.4205C3.35298 15.6315 3.63913 15.75 3.9375 15.75H7.3125C7.61087 15.75 7.89702 15.6315 8.108 15.4205C8.31897 15.2095 8.4375 14.9234 8.4375 14.625V3.37501C8.4375 3.07664 8.31897 2.7905 8.108 2.57952C7.89702 2.36854 7.61087 2.25001 7.3125 2.25001ZM3.9375 3.37501H7.3125V4.50001H3.9375V3.37501ZM3.9375 5.62501H7.3125V12.375H3.9375V5.62501ZM7.3125 14.625H3.9375V13.5H7.3125V14.625Z"
            fill="#8D8D8C"
          />
        </svg>
      ),
      hoverIcon: (
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.2879 13.6793L13.9542 2.584C13.924 2.4389 13.8655 2.3012 13.7819 2.1788C13.6984 2.0564 13.5914 1.95172 13.4673 1.87077C13.3432 1.78982 13.2043 1.73419 13.0585 1.70709C12.9128 1.67998 12.7632 1.68193 12.6183 1.71283L9.32695 2.42017C9.03582 2.48391 8.78164 2.66003 8.61968 2.91021C8.45772 3.16039 8.40109 3.46439 8.46211 3.75611L10.7958 14.8514C10.8478 15.1046 10.9854 15.3321 11.1854 15.4957C11.3854 15.6594 11.6356 15.7492 11.8941 15.75C11.9739 15.7499 12.0536 15.7414 12.1317 15.7247L15.423 15.0174C15.7145 14.9535 15.969 14.777 16.1309 14.5264C16.2929 14.2758 16.3493 13.9713 16.2879 13.6793ZM9.5625 3.52618C9.5625 3.52197 9.5625 3.51986 9.5625 3.51986L12.8531 2.81673L13.0873 3.93259L9.79664 4.64064L9.5625 3.52618ZM10.028 5.73892L13.32 5.03228L13.5548 6.15025L10.2656 6.85759L10.028 5.73892ZM10.4948 7.95868L13.7869 7.25134L14.722 11.6979L11.43 12.4052L10.4948 7.95868ZM15.1875 13.9177L11.8969 14.6208L11.6627 13.5049L14.9534 12.7969L15.1875 13.9113C15.1875 13.9156 15.1875 13.9177 15.1875 13.9177ZM7.3125 2.25001H3.9375C3.63913 2.25001 3.35298 2.36854 3.142 2.57952C2.93103 2.7905 2.8125 3.07664 2.8125 3.37501V14.625C2.8125 14.9234 2.93103 15.2095 3.142 15.4205C3.35298 15.6315 3.63913 15.75 3.9375 15.75H7.3125C7.61087 15.75 7.89702 15.6315 8.108 15.4205C8.31897 15.2095 8.4375 14.9234 8.4375 14.625V3.37501C8.4375 3.07664 8.31897 2.7905 8.108 2.57952C7.89702 2.36854 7.61087 2.25001 7.3125 2.25001ZM3.9375 3.37501H7.3125V4.50001H3.9375V3.37501ZM3.9375 5.62501H7.3125V12.375H3.9375V5.62501ZM7.3125 14.625H3.9375V13.5H7.3125V14.625Z"
            fill="#FCFCFC"
          />
        </svg>
      ),
      label: "Documentation",
      href: "https://owl-finance.gitbook.io/owl-finance-docs",
    },
  ];

  // --- hover tracking for icon swap ---
  const [hoverIndex, setHoverIndex] = useState<number | null>(null);
  const [docHoverIndex, setdocHoverIndex] = useState<number | null>(null);

  const dotColor =
    status === "ok" ? "#22c55e" : status === "error" ? "#ef4444" : "#eab308";

  return (
    <motion.aside
      onMouseEnter={() => !pinned && setExpanded(true)}
      onMouseLeave={() => !pinned && setExpanded(false)}
      onClick={() => {
        // clicking empty space toggles collapse only if not pinned
        if (!pinned) {
          setExpanded((e) => !e);
        }
      }}
      animate={{ width: expanded ? 220 : 72 }}
      transition={{ type: "spring", stiffness: 300, damping: 30 }}
      className={cn(
        "h-[100vh] bg-[#0D0D0D] text-white flex flex-col justify-between shadow-lg sticky top-0 left-0 border-r border-[#232323]"
      )}
    >
      <div>
        {/* Logo row */}
        <div
          className={`flex items-center ${
            expanded ? "justify-between" : ""
          } px-3 py-4`}
        >
          <motion.div
            initial={false}
            animate={{ opacity: expanded ? 1 : 0 }}
            className="font-semibold text-lg"
          >
            <div className="flex gap-0 items-center ml-3">
              {/* owl logo svg */}
              {expanded && (
                <svg
                  width="29"
                  height="29"
                  viewBox="0 0 29 29"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <circle cx="14.5" cy="14.5" r="14.5" fill="#FFCC6A" />
                  <path
                    d="M18.7449 4.81873C18.9317 4.72545 19.1306 4.73742 19.2683 4.77185C19.3568 4.79417 19.4288 4.85977 19.4646 4.94373C19.8224 5.78834 18.8254 6.94593 18.2537 7.43982C18.7117 8.48785 18.3352 10.2779 18.0896 11.0424C23.1112 14.3904 22.3226 21.0714 21.2576 24.1508C21.227 24.2381 21.128 24.2784 21.0427 24.2426C14.6363 21.517 13.7251 15.0859 14.0769 12.1888C14.8685 11.7247 16.5498 10.633 16.9431 9.97791C17.1782 9.58576 17.1908 9.01714 17.1277 8.51892C17.0562 7.95604 16.7938 7.37333 16.2507 7.20935C16.015 7.13838 15.7253 7.11583 15.3875 7.19373C14.3232 7.43973 13.7492 8.99618 13.4216 10.8793V10.8051C13.0983 8.94493 12.5325 7.40771 11.4822 7.16443C11.1533 7.08853 10.8704 7.10927 10.6394 7.17712C10.0955 7.33731 9.83259 7.92098 9.76245 8.48376C9.70161 8.97331 9.71582 9.52975 9.94604 9.91443C10.3343 10.5615 11.9936 11.6404 12.7751 12.099C11.8757 15.2752 11.8113 16.3529 13.3699 22.7142C13.3953 22.819 13.315 22.9239 13.2078 22.9135C10.2077 22.6138 6.43675 17.7682 8.81421 10.9672C8.57172 10.2119 8.19971 8.442 8.6521 7.40662C8.08789 6.91868 7.10521 5.77679 7.45679 4.94275C7.49239 4.85868 7.56452 4.794 7.65308 4.77185C7.78894 4.73821 7.98414 4.72605 8.16772 4.81775C8.49111 4.97996 9.05803 5.78852 11.0779 5.46521C11.5093 5.41127 12.5814 5.30317 13.4216 5.3031V5.30994C14.2728 5.30997 15.3595 5.41939 15.7966 5.474C17.8429 5.80129 18.4173 4.98289 18.7449 4.81873Z"
                    fill="#0F0702"
                  />
                  <circle
                    cx="15.123"
                    cy="9.12906"
                    r="0.692776"
                    fill="#0F0702"
                  />
                  <circle
                    cx="11.5968"
                    cy="9.1293"
                    r="0.692776"
                    fill="#0F0702"
                  />
                </svg>
              )}

              {expanded && (
                <SplitText
                  text="OwlFi"
                  className="text-xl font-semibold text-center ml-4 text-white"
                  delay={100}
                  duration={0.6}
                  ease="power3.out"
                  splitType="chars"
                  from={{ opacity: 0, y: 40 }}
                  to={{ opacity: 1, y: 0 }}
                  threshold={0.1}
                  rootMargin="-100px"
                  textAlign="center"
                  onLetterAnimationComplete={undefined}
                />
              )}
            </div>
          </motion.div>
          {!expanded && (
            <svg
              width="29"
              height="29"
              viewBox="0 0 29 29"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle cx="14.5" cy="14.5" r="14.5" fill="#FFCC6A" />
              <path
                d="M18.7449 4.81873C18.9317 4.72545 19.1306 4.73742 19.2683 4.77185C19.3568 4.79417 19.4288 4.85977 19.4646 4.94373C19.8224 5.78834 18.8254 6.94593 18.2537 7.43982C18.7117 8.48785 18.3352 10.2779 18.0896 11.0424C23.1112 14.3904 22.3226 21.0714 21.2576 24.1508C21.227 24.2381 21.128 24.2784 21.0427 24.2426C14.6363 21.517 13.7251 15.0859 14.0769 12.1888C14.8685 11.7247 16.5498 10.633 16.9431 9.97791C17.1782 9.58576 17.1908 9.01714 17.1277 8.51892C17.0562 7.95604 16.7938 7.37333 16.2507 7.20935C16.015 7.13838 15.7253 7.11583 15.3875 7.19373C14.3232 7.43973 13.7492 8.99618 13.4216 10.8793V10.8051C13.0983 8.94493 12.5325 7.40771 11.4822 7.16443C11.1533 7.08853 10.8704 7.10927 10.6394 7.17712C10.0955 7.33731 9.83259 7.92098 9.76245 8.48376C9.70161 8.97331 9.71582 9.52975 9.94604 9.91443C10.3343 10.5615 11.9936 11.6404 12.7751 12.099C11.8757 15.2752 11.8113 16.3529 13.3699 22.7142C13.3953 22.819 13.315 22.9239 13.2078 22.9135C10.2077 22.6138 6.43675 17.7682 8.81421 10.9672C8.57172 10.2119 8.19971 8.442 8.6521 7.40662C8.08789 6.91868 7.10521 5.77679 7.45679 4.94275C7.49239 4.85868 7.56452 4.794 7.65308 4.77185C7.78894 4.73821 7.98414 4.72605 8.16772 4.81775C8.49111 4.97996 9.05803 5.78852 11.0779 5.46521C11.5093 5.41127 12.5814 5.30317 13.4216 5.3031V5.30994C14.2728 5.30997 15.3595 5.41939 15.7966 5.474C17.8429 5.80129 18.4173 4.98289 18.7449 4.81873Z"
                fill="#0F0702"
              />
              <circle cx="15.123" cy="9.12906" r="0.692776" fill="#0F0702" />
              <circle cx="11.5968" cy="9.1293" r="0.692776" fill="#0F0702" />
            </svg>
          )}
          {/* pin button */}
          {expanded && (
            <Button
              size="icon"
              variant="ghost"
              onClick={(e) => {
                e.stopPropagation();
                setPinned((p) => !p);
              }}
              className="text-slate-400 cursor-pointer hover:bg-slate-800 hover:text-white"
            >
              {pinned ? (
                <GoPin className="text-white" size={18} />
              ) : (
                <GoPin size={18} />
              )}
            </Button>
          )}
        </div>

        {/* Nav */}
        <nav className="space-y-2 mt-4 px-4">
          {sideBaritems.map((item, i) => {
            const isActive = item.href && pathname === item.href;
            const isHovered = hoverIndex === i;

            const showHoverIcon = isHovered || isActive;

            return (
              <button
                key={i}
                onMouseEnter={() => setHoverIndex(i)}
                onMouseLeave={() => setHoverIndex(null)}
                onClick={(e) => {
                  if (item.href === "/more") {
                    return;
                  }
                  e.stopPropagation();
                  if (item.href) router.replace(item.href);
                }}
                className={cn(
                  "flex items-center gap-2 w-full px-3 py-2 rounded-md cursor-pointer transition-colors",
                  expanded ? "justify-start" : "justify-center",
                  // base text color
                  "text-[#FCFCFC]",
                  // bg/text for hover OR active
                  isActive || isHovered
                    ? "bg-[#1F1F1F] text-white"
                    : "hover:bg-[#1F1F1F] hover:text-white"
                )}
              >
                <div className="bg-[#0D0D0D] p-2 rounded-md flex items-center justify-center">
                  {showHoverIcon ? item.hoverIcon : item.icon}
                </div>

                {expanded && <span>{item.label}</span>}
              </button>
            );
          })}
        </nav>
        <div className="border-t border-[#2a2a2a] mx-4" />
        <nav className="space-y-2 mt-4 px-4">
          {linkitems.map((item, i) => {
            // const isActive = item.href && pathname === item.href;
            const isHovered = docHoverIndex === i;

            const showHoverIcon = isHovered;

            return (
              <button
                key={i}
                onMouseEnter={() => setdocHoverIndex(i)}
                onMouseLeave={() => setdocHoverIndex(null)}
                onClick={(e) => {
                  if (item.href === "/more") return;
                  e.stopPropagation();
                  if (!item.href) return;

                  // Respect Cmd/Ctrl-click semantics too
                  const target = "_blank";
                  const rel = "noopener,noreferrer";

                  // For safety with SSR
                  if (typeof window !== "undefined") {
                    window.open(item.href, target, rel);
                  }
                }}
                className={cn(
                  "flex  items-center gap-2 w-full px-3 py-2 rounded-md cursor-pointer transition-colors",
                  expanded ? "justify-start" : "justify-center",
                  "text-[#FCFCFC]",
                  isHovered
                    ? "bg-[#1F1F1F] text-white"
                    : "hover:bg-[#1F1F1F] hover:text-white"
                )}
              >
                <div className="bg-[#0D0D0D] p-2 rounded-md flex items-center justify-center">
                  {showHoverIcon ? item.hoverIcon : item.icon}
                </div>
                {expanded && <span>{item.label}</span>}
              </button>
            );
          })}
        </nav>
        <div className="border-t border-[#2a2a2a] mx-4 mt-2" />
        <nav className="space-y-2 mt-2 px-4">
          <div
            className={cn(
              "flex  items-center gap-2 w-full px-3 py-2 rounded-md cursor-pointer transition-colors",
              expanded ? "justify-start" : "justify-center",
              "text-[#FCFCFC]",
              "hover:bg-[#1F1F1F] hover:text-white"
            )}
            onClick={()=>{
              setopenModal(true)
            }}
          >
            <div className="bg-[#0D0D0D] p-2 rounded-md flex items-center justify-center">
              <svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.9577 3.94383C13.1091 2.48906 11.9475 1.6875 10.6875 1.6875H7.3125C6.0525 1.6875 4.89094 2.48906 4.04227 3.94383C3.24914 5.30297 2.8125 7.10156 2.8125 9C2.8125 10.8984 3.24914 12.697 4.04227 14.0562C4.89094 15.5109 6.0525 16.3125 7.3125 16.3125H10.6875C11.9475 16.3125 13.1091 15.5109 13.9577 14.0562C14.7509 12.697 15.1875 10.8984 15.1875 9C15.1875 7.10156 14.7509 5.30297 13.9577 3.94383ZM14.0477 8.4375H11.7977C11.7538 7.28322 11.524 6.14359 11.1171 5.0625H13.268C13.6983 6.00328 13.9823 7.17188 14.0477 8.4375ZM12.5993 3.9375H10.5792C10.3443 3.52991 10.061 3.15218 9.73547 2.8125H10.6875C11.3906 2.8125 12.0516 3.23438 12.5993 3.9375ZM3.9375 9C3.9375 5.64609 5.48438 2.8125 7.3125 2.8125C9.14062 2.8125 10.6875 5.64609 10.6875 9C10.6875 12.3539 9.14062 15.1875 7.3125 15.1875C5.48438 15.1875 3.9375 12.3539 3.9375 9ZM10.6875 15.1875H9.73758C10.0631 14.8478 10.3464 14.4701 10.5813 14.0625H12.6014C12.0516 14.7656 11.3906 15.1875 10.6875 15.1875ZM13.268 12.9375H11.1178C11.5247 11.8564 11.7545 10.7168 11.7984 9.5625H14.0484C13.9823 10.8281 13.6983 11.9967 13.268 12.9375Z"
                  fill="white"
                />
              </svg>
            </div>
            Get Tokens
          </div>
        </nav>
      </div>

      {/* Bottom status row */}
      <div className="px-3 py-4 border-t border-slate-800 flex items-center gap-3">
        <span
          className="pulsatingDot"
          style={{ ["--pulsating-dot" as any]: dotColor }}
          aria-label={
            status === "ok"
              ? "online"
              : status === "error"
              ? "error"
              : "loading"
          }
        />
         <TestTokensModal openModal={openModal} setOpenModal={setopenModal} connectedPubkey={pubkey as any}/>
        {expanded && (
          <Link
            href={`https://explorer.solana.com/block/${blockHeight}?cluster=testnet`}
            target="_blank"
          >
            <span className="text-sm text-slate-300 cursor-pointer hover:text-amber-400 transition-colors">
              {blockHeight ? `${blockHeight}` : "Loading…"}
            </span>
          </Link>
        )}
      </div>
    </motion.aside>
  );
}
